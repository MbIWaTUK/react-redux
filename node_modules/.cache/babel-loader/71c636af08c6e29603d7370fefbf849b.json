{"ast":null,"code":"import { profileAPI, userAPI } from \"../api/api\";\nconst ADD_POST = \"ADD-POST\";\nconst CHANGE_MESSAGE = \"CHANGE-MESSAGE\";\nconst CHANGE_PROFILE_INFO = \"CHANGE-PROFILE-INFO\";\nconst SET_STATUS = \"SET-STATUS\";\nlet initialState = {\n  user: null,\n  posts: [{\n    id: 1,\n    message: \"qwerty\",\n    likeCount: 10\n  }, {\n    id: 2,\n    message: \"sssss\",\n    likeCount: 5\n  }],\n  status: \"\"\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      {\n        let newPosts = {\n          id: state.posts.length + 1,\n          message: action.message,\n          likeCount: 0\n        };\n        return { ...state,\n          posts: [...state.posts, newPosts]\n        };\n      }\n\n    case CHANGE_MESSAGE:\n      {\n        return { ...state,\n          newPostText: action.msg\n        };\n      }\n\n    case CHANGE_PROFILE_INFO:\n      {\n        return { ...state,\n          user: action.user\n        };\n      }\n\n    case SET_STATUS:\n      {\n        return { ...state,\n          status: action.status\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport const handleAddPostActionCreate = message => ({\n  type: ADD_POST,\n  message\n});\nexport const handleChangeMessageActionCreate = msg => {\n  return {\n    type: CHANGE_MESSAGE,\n    msg\n  };\n};\nexport const changeProfileInfo = user => ({\n  type: CHANGE_PROFILE_INFO,\n  user\n});\nexport const setStatus = status => ({\n  type: SET_STATUS,\n  status\n});\nexport const getUserProfileThunkCreator = userId => {\n  return dispatch => {\n    userAPI.userProfile(userId).then(res => {\n      dispatch(changeProfileInfo(res.data));\n    });\n  };\n};\nexport const getStatusThunkCreator = userId => {\n  return dispatch => {\n    profileAPI.getStatus(userId).then(res => {\n      dispatch(setStatus(res.data));\n    });\n  };\n};\nexport const updateStatusThunkCreator = status => {\n  return dispatch => {\n    profileAPI.updateStatus(status).then(res => {\n      if (res.data.resultCode === 0) {\n        dispatch(setStatus(status));\n      }\n    });\n  };\n};\nexport default profileReducer;","map":{"version":3,"sources":["/home/bravedevuser/projects/react-test/react-social-redux/react-redux/src/redux/profileReducer.js"],"names":["profileAPI","userAPI","ADD_POST","CHANGE_MESSAGE","CHANGE_PROFILE_INFO","SET_STATUS","initialState","user","posts","id","message","likeCount","status","profileReducer","state","action","type","newPosts","length","newPostText","msg","handleAddPostActionCreate","handleChangeMessageActionCreate","changeProfileInfo","setStatus","getUserProfileThunkCreator","userId","dispatch","userProfile","then","res","data","getStatusThunkCreator","getStatus","updateStatusThunkCreator","updateStatus","resultCode"],"mappings":"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","sourcesContent":["import { profileAPI, userAPI } from \"../api/api\"\r\n\r\nconst ADD_POST = \"ADD-POST\"\r\nconst CHANGE_MESSAGE = \"CHANGE-MESSAGE\"\r\nconst CHANGE_PROFILE_INFO = \"CHANGE-PROFILE-INFO\"\r\nconst SET_STATUS = \"SET-STATUS\"\r\n\r\nlet initialState = {\r\n  user: null,\r\n  posts: [\r\n    { id: 1, message: \"qwerty\", likeCount: 10 },\r\n    { id: 2, message: \"sssss\", likeCount: 5 }\r\n  ],\r\n  status:\"\"\r\n}\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case ADD_POST: {\r\n      let newPosts = { id: state.posts.length + 1, message: action.message, likeCount: 0 }\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPosts],\r\n      }\r\n    }\r\n\r\n    case CHANGE_MESSAGE: {\r\n      return {\r\n        ...state,\r\n        newPostText: action.msg\r\n      }\r\n    }\r\n\r\n    case CHANGE_PROFILE_INFO: {\r\n      return {\r\n        ...state,\r\n        user: action.user\r\n      }\r\n    }\r\n\r\n    case SET_STATUS:{\r\n      return{\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n\r\n\r\n}\r\n\r\nexport const handleAddPostActionCreate = (message) => ({ type: ADD_POST, message })\r\nexport const handleChangeMessageActionCreate = (msg) => {\r\n  return { type: CHANGE_MESSAGE, msg }\r\n}\r\nexport const changeProfileInfo = (user) => ({ type: CHANGE_PROFILE_INFO, user })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\n\r\n\r\nexport const getUserProfileThunkCreator = (userId)=>{\r\n\r\n  return (dispatch) => {\r\n  userAPI.userProfile(userId).then(res => {\r\n    dispatch(changeProfileInfo(res.data))\r\n  })\r\n}\r\n}\r\n\r\nexport const getStatusThunkCreator = (userId)=>{\r\n\r\n  return (dispatch) => {\r\n  profileAPI.getStatus(userId).then(res => {\r\n    dispatch(setStatus(res.data))\r\n  })\r\n}\r\n}\r\n\r\nexport const updateStatusThunkCreator = (status)=>{\r\n\r\n  return (dispatch) => {\r\n  profileAPI.updateStatus(status).then(res => {\r\n    if(res.data.resultCode===0){\r\n      dispatch(setStatus(status))\r\n    }\r\n  })\r\n}\r\n}\r\n\r\nexport default profileReducer"]},"metadata":{},"sourceType":"module"}