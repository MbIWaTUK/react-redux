{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/bravedevuser/projects/react-test/social-redux/react-redux/src/UserListClassComponent.js\";\nimport userDefault from \"./logo.svg\";\nimport { NavLink } from \"react-router-dom\";\nimport axios from \"axios\";\nconst KEY = \"b1186a4f-cbbb-4035-a7df-e7b360e29e9f\";\n\nconst UsersListClassComponent = props => {\n  let pagesCount = Math.ceil(props.totalUserCount / props.pageSize);\n  let pages = [];\n\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  const handleFollow = id => {\n    props.setFollowButtonDisabled(true, id);\n    axios.post(\"https://social-network.samuraijs.com/api/1.0/follow/\" + id, {}, {\n      headers: {\n        \"API-KEY\": KEY\n      },\n      withCredentials: true\n    }).then(res => {\n      if (res.data.resultCode === 0) {\n        props.follow(id);\n      }\n\n      props.setFollowButtonDisabled(false, id);\n    });\n  };\n\n  const handleUnFollow = id => {\n    props.setFollowButtonDisabled(true, id);\n    axios.delete(\"https://social-network.samuraijs.com/api/1.0/follow/\" + id, {\n      headers: {\n        \"API-KEY\": KEY\n      },\n      withCredentials: true\n    }).then(res => {\n      if (res.data.resultCode === 0) {\n        props.unfollow(id);\n      }\n\n      props.setFollowButtonDisabled(false, id);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [pages.map(p => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => props.onChangeActivePage(p),\n        className: `${props.currentPage === p ? \"activePage\" : \"page\"}`,\n        children: p\n      }, p, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this);\n    }), props.users.map(u => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"users\",\n      children: [/*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/profile/\" + u.id,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: u.photos && u.photos.small != null ? u.photos.small : userDefault,\n          style: {\n            width: \"100px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: u.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: u.status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), u.followed === true ? /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: props.followButtonDisabled.some(f => f === u.id),\n        onClick: () => handleUnFollow(u.id),\n        children: \"unfollowed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: props.followButtonDisabled.some(f => f === u.id),\n        onClick: () => handleFollow(u.id),\n        children: \"followed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this)]\n    }, u.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n          .users {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            width: 50%;\n            padding: 1rem;\n            margin: 1rem 0;\n          }\n          .activePage {\n            font-weight: bold;\n            padding: 0.5rem;\n          }\n          .page {\n            padding: 0.5rem;\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_c = UsersListClassComponent;\nexport default UsersListClassComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsersListClassComponent\");","map":{"version":3,"sources":["/home/bravedevuser/projects/react-test/social-redux/react-redux/src/UserListClassComponent.js"],"names":["NavLink","axios","KEY","UsersListClassComponent","props","pagesCount","Math","ceil","totalUserCount","pageSize","pages","i","push","handleFollow","id","setFollowButtonDisabled","post","headers","withCredentials","then","res","data","resultCode","follow","handleUnFollow","delete","unfollow","map","p","onChangeActivePage","currentPage","users","u","photos","small","userDefault","width","name","status","followed","followButtonDisabled","some","f"],"mappings":"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","sourcesContent":["import userDefault from \"./logo.svg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nconst KEY = \"b1186a4f-cbbb-4035-a7df-e7b360e29e9f\";\r\n\r\nconst UsersListClassComponent = (props) => {\r\n  let pagesCount = Math.ceil(props.totalUserCount / props.pageSize);\r\n  let pages = [];\r\n\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  const handleFollow = (id) => {\r\n    props.setFollowButtonDisabled(true, id);\r\n    axios\r\n      .post(\r\n        \"https://social-network.samuraijs.com/api/1.0/follow/\" + id,\r\n        {},\r\n        {\r\n          headers: {\r\n            \"API-KEY\": KEY,\r\n          },\r\n          withCredentials: true,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        if (res.data.resultCode === 0) {\r\n          props.follow(id);\r\n        }\r\n        props.setFollowButtonDisabled(false, id);\r\n      });\r\n  };\r\n\r\n  const handleUnFollow = (id) => {\r\n    props.setFollowButtonDisabled(true, id);\r\n    axios\r\n      .delete(\"https://social-network.samuraijs.com/api/1.0/follow/\" + id, {\r\n        headers: {\r\n          \"API-KEY\": KEY,\r\n        },\r\n        withCredentials: true,\r\n      })\r\n      .then((res) => {\r\n        if (res.data.resultCode === 0) {\r\n          props.unfollow(id);\r\n        }\r\n        props.setFollowButtonDisabled(false, id);\r\n      });\r\n  };\r\n  return (\r\n    <>\r\n      {pages.map((p) => {\r\n        return (\r\n          <span\r\n            key={p}\r\n            onClick={() => props.onChangeActivePage(p)}\r\n            className={`${props.currentPage === p ? \"activePage\" : \"page\"}`}\r\n          >\r\n            {p}\r\n          </span>\r\n        );\r\n      })}\r\n      {props.users.map((u) => (\r\n        <div key={u.id} className=\"users\">\r\n          <NavLink to={\"/profile/\" + u.id}>\r\n            <img\r\n              src={\r\n                u.photos && u.photos.small != null\r\n                  ? u.photos.small\r\n                  : userDefault\r\n              }\r\n              style={{ width: \"100px\" }}\r\n            />\r\n          </NavLink>\r\n          <span>{u.name}</span>\r\n          <span>{u.status}</span>\r\n          {/* <span>{u.location.country} {u.location.city}</span> */}\r\n          {u.followed === true ? (\r\n            <button\r\n              disabled={props.followButtonDisabled.some((f) => f === u.id)}\r\n              onClick={() => handleUnFollow(u.id)}\r\n            >\r\n              unfollowed\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={props.followButtonDisabled.some((f) => f === u.id)}\r\n              onClick={() => handleFollow(u.id)}\r\n            >\r\n              followed\r\n            </button>\r\n          )}\r\n        </div>\r\n      ))}\r\n      <style jsx>\r\n        {`\r\n          .users {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            width: 50%;\r\n            padding: 1rem;\r\n            margin: 1rem 0;\r\n          }\r\n          .activePage {\r\n            font-weight: bold;\r\n            padding: 0.5rem;\r\n          }\r\n          .page {\r\n            padding: 0.5rem;\r\n          }\r\n        `}\r\n      </style>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UsersListClassComponent;\r\n"]},"metadata":{},"sourceType":"module"}